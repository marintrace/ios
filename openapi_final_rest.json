{"openapi":"3.0.2","info":{"title":"Contact Tracing API","description":"API for asynchronous and synchronous calls from contact tracing clients","version":"0.1.0"},"paths":{"/":{"get":{"tags":["Mgmt"],"summary":"Health Check","description":"Health check","operationId":"healthcheck","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Health Check  Get","type":"string"}}}}}}},"/interaction":{"post":{"tags":["Async"],"summary":"Queue Interaction Report","description":"Log contact  between a user and multiple users","operationId":"queue_interaction_report","parameters":[{"required":true,"schema":{"title":"Authorization","type":"string"},"name":"Authorization","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InteractionReport"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatedAsyncTask"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/test":{"post":{"tags":["Async"],"summary":"Queue Test Report","description":"Log a test under specified user","operationId":"queue_test_report","parameters":[{"required":true,"schema":{"title":"Authorization","type":"string"},"name":"Authorization","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestReport"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatedAsyncTask"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/symptoms":{"post":{"tags":["Async"],"summary":"Queue Symptoms Report","description":"Log symptoms under the specified user","operationId":"queue_symptom_report","parameters":[{"required":true,"schema":{"title":"Authorization","type":"string"},"name":"Authorization","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SymptomReport"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatedAsyncTask"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/set-active-user":{"post":{"tags":["Async"],"summary":"Change Status","description":"Notify the system that a user has logged in for the first time","operationId":"queue_set_active_user","parameters":[{"required":true,"schema":{"title":"Authorization","type":"string"},"name":"Authorization","in":"header"}],"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatedAsyncTask"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/list/users":{"get":{"tags":["Sync"],"summary":"List Users","description":"List the users from a specified school (no PII)","operationId":"list_users","parameters":[{"required":true,"schema":{"title":"Authorization","type":"string"},"name":"Authorization","in":"header"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ListUsersResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"CreatedAsyncTask":{"title":"CreatedAsyncTask","required":["task_id"],"type":"object","properties":{"timestamp":{"title":"Timestamp","type":"integer","default":1599170554},"status":{"title":"Status","enum":["MALFORMED","UNEXPECTED","SUCCESS","QUEUED","ACCESS_DENIED"],"type":"string","default":"QUEUED"},"task_id":{"title":"Task Id","type":"string"}},"description":"Created Asynchronous task with service"},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"InteractionReport":{"title":"InteractionReport","required":["targets"],"type":"object","properties":{"targets":{"title":"Targets","type":"array","items":{"type":"string"}}},"description":"Interaction report schema for API validation and documentation"},"ListUsersResponse":{"title":"ListUsersResponse","required":["users"],"type":"object","properties":{"timestamp":{"title":"Timestamp","type":"integer","default":1599170554},"status":{"title":"Status","enum":["MALFORMED","UNEXPECTED","SUCCESS","QUEUED","ACCESS_DENIED"],"type":"string","default":"SUCCESS"},"users":{"title":"Users","type":"array","items":{"$ref":"#/components/schemas/User"}}},"description":"Listing users in the database response"},"SymptomReport":{"title":"SymptomReport","type":"object","properties":{"timestamp":{"title":"Timestamp","type":"integer","default":1599170554},"num_symptoms":{"title":"Num Symptoms","type":"integer","default":0}},"description":"Symptom Report"},"TestReport":{"title":"TestReport","required":["test_type"],"type":"object","properties":{"timestamp":{"title":"Timestamp","type":"integer","default":1599170554},"test_type":{"title":"Test Type","enum":["positive","negative"],"type":"string"}},"description":"Report either a positive or negative test"},"User":{"title":"User","required":["first_name","last_name","email","school"],"type":"object","properties":{"first_name":{"title":"First Name","type":"string"},"last_name":{"title":"Last Name","type":"string"},"email":{"title":"Email","type":"string"},"school":{"title":"School","type":"string"},"status":{"title":"Status","enum":["inactive","active"],"type":"string","default":"inactive"}},"description":"User Schema for API validation and documentation"},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}